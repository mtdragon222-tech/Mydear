<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Confession</title>
<style>
  /* General Reset */
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    font-family: 'Arial', sans-serif;
    background: #0d0d1a;
    color: #fff;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    overflow: hidden;
    padding: 20px;
  }

  /* Container for all content */
  #container {
    z-index: 1;
    max-width: 500px;
    width: 100%;
  }

  button {
    padding: 10px 20px;
    font-size: 18px;
    margin-top: 20px;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    background-color: #ff3366;
    color: white;
    transition: 0.3s;
  }

  button:hover {
    background-color: #ff6699;
  }

  .typewriter {
    display: inline-block;
    overflow: hidden;
    border-right: 2px solid #ff3366;
    white-space: pre-wrap;
    word-wrap: break-word;
    animation: caret 0.75s steps(1) infinite;
    margin-top:20px;
    font-size:18px;
    text-align:center;
  }

  @keyframes caret {
    50% { border-color: transparent; }
  }

  .paragraph {
    margin-top: 20px;
    font-size: 18px;
    line-height: 1.6;
    word-wrap: break-word;
    text-align: center;
  }

  .choice-btn {
    display: inline-block;
    margin: 10px;
    background-color: #33ccff;
  }

  /* Admin login overlay */
  #adminLogin {
    display: none;
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.9);
    color: white;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    z-index: 10;
  }

  #adminLogin input {
    padding: 10px;
    margin: 10px;
    border-radius:5px;
    border:none;
    width:200px;
  }

  #adminLogin button {
    margin-top:10px;
  }

  #adminPanel {
    display:none;
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: #111;
    color: #fff;
    padding: 20px;
    overflow-y:auto;
    z-index:10;
  }

  #adminPanel h2 {
    text-align:center;
    margin-bottom: 20px;
  }

  .msgItem {
    background: #222;
    padding:10px;
    margin:10px 0;
    border-radius: 8px;
    word-wrap: break-word;
  }

  /* Stars animation */
  .stars {
    position: fixed;
    width: 100%;
    height: 100%;
    top:0; left:0;
    background: transparent;
    z-index: -1;
  }
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle 2s infinite alternate;
  }
  @keyframes twinkle {
    from { opacity: 0.2; transform: scale(1);}
    to { opacity: 1; transform: scale(1.5);}
  }

</style>
</head>
<body>

<div id="container">
  <h1>á”• Éª ÊŸ á´‡ É´ á´„ á´‡  Éª s  É´ á´ á´›  á´€ ÊŸ á´€Ê s  á´‡ É¢ á´,  s á´ á´ á´‡ á´› Éª á´ á´‡ s  Éª á´›  Êœ Éª á´… á´‡ s  á´€  ÊŸ á´ á´›  á´ êœ°  á´˜ á´€ Éª É´</h1>
  <button id="revealBtn">I WANT TO SAY YOU SOMETHING ğŸ’Œ</button>
</div>

<!-- Admin login overlay -->
<div id="adminLogin">
  <h2>Admin Login</h2>
  <input type="text" id="adminUser" placeholder="Username">
  <input type="password" id="adminPass" placeholder="Password">
  <button onclick="adminLoginCheck()">Login</button>
</div>

<!-- Admin panel -->
<div id="adminPanel">
  <h2>Visitor Responses</h2>
  <div id="messagesList"></div>
  <button onclick="logoutAdmin()">Logout</button>
</div>

<!-- Stars container -->
<div class="stars" id="starsContainer"></div>

<script>
  const container = document.getElementById('container');
  const starsContainer = document.getElementById('starsContainer');

  // Generate stars (50 stars)
  function createStars() {
    for(let i=0;i<50;i++){
      const star = document.createElement('div');
      star.className = 'star';
      star.style.top = Math.random()*100 + '%';
      star.style.left = Math.random()*100 + '%';
      star.style.animationDuration = 1 + Math.random()*3 + 's';
      starsContainer.appendChild(star);
    }
  }

  document.getElementById('revealBtn').addEventListener('click', () => {
    // Add stars animation after click
    createStars();

    container.innerHTML = '<div class="typewriter" id="loveMsg"></div>';
    const msg = 'HEY S ğŸ’• I WANT TO TELL YOU THAT ..... I LOVE YOU ğŸ’';
    typeWriter(msg,0,() => {
      showChoices();
    });
  });

  function typeWriter(text,i,callback){
    if(i < text.length){
      document.getElementById('loveMsg').innerHTML += text.charAt(i);
      setTimeout(()=>typeWriter(text,i+1,callback),80);
    } else {
      if(callback) callback();
    }
  }

  function showChoices(){
    const choiceHTML = `
      <div>
        <button class="choice-btn" onclick="handleChoice('Yes')">Yes</button>
        <button class="choice-btn" onclick="handleChoice('No')">No</button>
      </div>
    `;
    container.innerHTML += choiceHTML;
  }

  function handleChoice(choice){
    container.innerHTML = '';
    if(choice==='Yes'){
      const loveLetter = `
        <p class="paragraph">
          ğŸ’Œ My dearest S,<br>
          You make my world brighter every day. I just wanted to tell you that I love you deeply, more than words can express. â¤ï¸
        </p>
        <p class="paragraph">Would you like to chat with me?</p>
        <input type="text" id="userMsg" placeholder="Type your message here">
        <button onclick="sendMsg()">Send</button>
      `;
      container.innerHTML = loveLetter;
    } else {
      container.innerHTML = '<p class="paragraph">It\'s okay ğŸ˜¢ Maybe another time...</p>';
    }
  }

  function sendMsg(){
    const msg = document.getElementById('userMsg').value;
    if(msg.trim()==='') return alert('Please type a message!');
    let messages = JSON.parse(localStorage.getItem('messages')||'[]');
    messages.push(msg);
    localStorage.setItem('messages',JSON.stringify(messages));
    alert('Your message has been sent to admin!');
    document.getElementById('userMsg').value = '';
  }

  function adminLoginCheck(){
    const user = document.getElementById('adminUser').value;
    const pass = document.getElementById('adminPass').value;
    if(user==='mtdragon' && pass==='mtdragon00'){
      document.getElementById('adminLogin').style.display='none';
      showAdminPanel();
    } else alert('Incorrect credentials!');
  }

  function showAdminPanel(){
    document.getElementById('adminPanel').style.display='block';
    const messages = JSON.parse(localStorage.getItem('messages')||'[]');
    const listDiv = document.getElementById('messagesList');
    listDiv.innerHTML = '';
    messages.forEach(msg=>{
      const div=document.createElement('div');
      div.className='msgItem';
      div.innerText=msg;
      listDiv.appendChild(div);
    });
  }

  function logoutAdmin(){
    document.getElementById('adminPanel').style.display='none';
    document.getElementById('adminLogin').style.display='flex';
  }
</script>

</body>
</html>
    word-wrap: break-word;
    animation: caret 0.75s steps(1) infinite;
  }

  @keyframes caret {
    50% { border-color: transparent; }
  }

  .paragraph {
    margin-top: 20px;
    font-size: 18px;
    line-height: 1.6;
    word-wrap: break-word;
  }

  /* Yes / No buttons */
  .choice-btn {
    display: inline-block;
    margin: 10px;
    background-color: #33ccff;
  }

  /* Admin login overlay */
  #adminLogin {
    display: none;
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.9);
    color: white;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    z-index: 10;
  }

  #adminLogin input {
    padding: 10px;
    margin: 10px;
    border-radius:5px;
    border:none;
    width:200px;
  }

  #adminLogin button {
    margin-top:10px;
  }

  /* Messages for admin */
  #adminPanel {
    display:none;
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: #111;
    color: #fff;
    padding: 20px;
    overflow-y:auto;
    z-index:10;
  }

  #adminPanel h2 {
    text-align:center;
    margin-bottom: 20px;
  }

  .msgItem {
    background: #222;
    padding:10px;
    margin:10px 0;
    border-radius: 8px;
  }

</style>
</head>
<body>

<div id="container">
  <h1>á”• Éª ÊŸ á´‡ É´ á´„ á´‡  Éª s  É´ á´ á´›  á´€ ÊŸ á´€Ê s  á´‡ É¢ á´,  s á´ á´ á´‡ á´› Éª á´ á´‡ s  Éª á´›  Êœ Éª á´… á´‡ s  á´€  ÊŸ á´ á´›  á´ êœ°  á´˜ á´€ Éª É´</h1>
  <button id="revealBtn">I WANT TO SAY YOU SOMETHING ğŸ’Œ</button>
</div>

<!-- Admin login overlay -->
<div id="adminLogin">
  <h2>Admin Login</h2>
  <input type="text" id="adminUser" placeholder="Username">
  <input type="password" id="adminPass" placeholder="Password">
  <button onclick="adminLoginCheck()">Login</button>
</div>

<!-- Admin panel -->
<div id="adminPanel">
  <h2>Visitor Responses</h2>
  <div id="messagesList"></div>
  <button onclick="logoutAdmin()">Logout</button>
</div>

<script>
  const container = document.getElementById('container');

  // Reveal button click
  document.getElementById('revealBtn').addEventListener('click', () => {
    container.innerHTML = '<div class="typewriter" id="loveMsg"></div>';
    const msg = 'HEY S ğŸ’• I WANT TO TELL YOU THAT ..... I LOVE YOU ğŸ’';
    typeWriter(msg, 0, () => {
      showChoices();
    });
  });

  // Typewriter effect
  function typeWriter(text, i, callback) {
    if(i < text.length) {
      document.getElementById('loveMsg').innerHTML += text.charAt(i);
      setTimeout(() => typeWriter(text, i+1, callback), 80);
    } else {
      if(callback) callback();
    }
  }

  // Show Yes / No buttons
  function showChoices() {
    const choiceHTML = `
      <div>
        <button class="choice-btn" onclick="handleChoice('Yes')">Yes</button>
        <button class="choice-btn" onclick="handleChoice('No')">No</button>
      </div>
    `;
    container.innerHTML += choiceHTML;
  }

  // Handle user choice
  function handleChoice(choice) {
    container.innerHTML = '';
    if(choice === 'Yes') {
      const loveLetter = `
        <p class="paragraph">
          ğŸ’Œ My dearest S,<br>
          You make my world brighter every day. I just wanted to tell you that I love you deeply, more than words can express. â¤ï¸
        </p>
        <p class="paragraph">Would you like to chat with me?</p>
        <input type="text" id="userMsg" placeholder="Type your message here">
        <button onclick="sendMsg()">Send</button>
      `;
      container.innerHTML = loveLetter;
    } else {
      container.innerHTML = '<p class="paragraph">It\'s okay ğŸ˜¢ Maybe another time...</p>';
    }
  }

  // Simulate sending message to admin (stored in localStorage)
  function sendMsg() {
    const msg = document.getElementById('userMsg').value;
    if(msg.trim() === '') return alert('Please type a message!');
    let messages = JSON.parse(localStorage.getItem('messages') || '[]');
    messages.push(msg);
    localStorage.setItem('messages', JSON.stringify(messages));
    alert('Your message has been sent to admin!');
    document.getElementById('userMsg').value = '';
  }

  // Admin login
  function adminLoginCheck() {
    const user = document.getElementById('adminUser').value;
    const pass = document.getElementById('adminPass').value;
    if(user === 'mtdragon' && pass === 'mtdragon00') {
      document.getElementById('adminLogin').style.display = 'none';
      showAdminPanel();
    } else {
      alert('Incorrect credentials!');
    }
  }

  function showAdminPanel() {
    document.getElementById('adminPanel').style.display = 'block';
    const messages = JSON.parse(localStorage.getItem('messages') || '[]');
    const listDiv = document.getElementById('messagesList');
    listDiv.innerHTML = '';
    messages.forEach((msg, idx) => {
      const div = document.createElement('div');
      div.className = 'msgItem';
      div.innerText = msg;
      listDiv.appendChild(div);
    });
  }

  function logoutAdmin() {
    document.getElementById('adminPanel').style.display = 'none';
    document.getElementById('adminLogin').style.display = 'flex';
  }
</script>

</body>
</html>
  <div class="stars2"></div>
  <div class="stars3"></div>

  <div id="mainContainer">
    <h1 id="start">I WANT TO SAY YOU SOMETHING ğŸ‘‡</h1>
    <button id="revealBtn">ğŸ’Œ Reveal</button>

    <div id="loveSection" class="hidden">
      <h2 class="glow">HEY S ğŸ’• I WANT TO TELL YOU THAT ..... I LOVE YOU ğŸ’</h2>
      <h3>Do you love me?</h3>
      <button id="yesBtn">â¤ï¸ Yes</button>
      <button id="noBtn">ğŸ’” No</button>
    </div>

    <div id="nameInput" class="hidden">
      <h3>Whatâ€™s your name, love? ğŸ’•</h3>
      <input type="text" id="loverName" placeholder="Enter your name">
      <button id="submitName">ğŸ’Œ Continue</button>
    </div>

    <div id="chatPrompt" class="hidden">
      <h3>Would you like to chat with me? ğŸ’¬</h3>
      <button id="chatYes">ğŸ’¬ Yes</button>
      <button id="chatNo">ğŸ’” No</button>
    </div>

    <div id="chatSection" class="hidden">
      <div id="chat-box"></div>
      <input type="text" id="chatInput" placeholder="Type your message..." />
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <!-- Popup Love Letter -->
  <div id="lovePopup">
    <p>
      á´Ê Êœá´‡á´€Ê€á´› Éªs É´á´á´› á´Šá´œsá´› á´€ á´˜ÊŸá´€á´„á´‡ á´›Êœá´€á´› Ê™á´‡á´€á´›s, Éªá´›â€™s á´€ Êœá´á´á´‡ á´›Êœá´€á´› Êœá´€s Êá´á´œ ğŸ’•<br>
      Éª á´…á´É´â€™á´› á´¡á´€É´á´› á´›Êœá´‡ á´¡á´Ê€ÊŸá´…, Éª á´Šá´œsá´› á´¡á´€É´á´› Êá´á´œÊ€ Êœá´€É´á´… ÉªÉ´ á´ÉªÉ´á´‡ ğŸŒ™<br>
      á´‡á´ á´‡Ê€Ê sÉªÊŸá´‡É´á´„á´‡ sá´˜á´‡á´€á´‹s Êá´á´œÊ€ É´á´€á´á´‡, á´‡á´ á´‡Ê€Ê Ê™Ê€á´‡á´€á´›Êœ á´¡ÊœÉªsá´˜á´‡Ê€s â€œÉª ÊŸá´á´ á´‡ Êá´á´œâ€ ğŸ’–
    </p>
    <button id="closePopup">Continue ğŸ’«</button>
  </div>

  <button id="adminBtn">ğŸ” Admin Login</button>

  <!-- Admin Panel -->
  <div id="adminPanel">
    <div id="loginBox">
      <h3>Admin Login</h3>
      <input id="adminUser" placeholder="Username">
      <input id="adminPass" placeholder="Password" type="password">
      <button id="loginSubmit">Login</button>
    </div>
    <div id="adminChat">
      <h3>Admin Chat Panel</h3>
      <div id="adminMessages" style="height:300px; overflow-y:auto; background:#111; border-radius:15px; padding:10px; margin-bottom:10px;"></div>
      <input type="text" id="adminMsg" placeholder="Type reply...">
      <button id="adminSend">Send</button>
      <button onclick="logoutAdmin()">Logout</button>
    </div>
  </div>

<script type="module">
  // ===== Firebase Setup =====
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_DOMAIN.firebaseapp.com",
    databaseURL: "https://YOUR_DOMAIN.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_BUCKET.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const msgRef = ref(db, "messages");

  // ===== Elements =====
  const revealBtn = document.getElementById("revealBtn");
  const start = document.getElementById("start");
  const loveSection = document.getElementById("loveSection");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const nameInput = document.getElementById("nameInput");
  const loverName = document.getElementById("loverName");
  const submitName = document.getElementById("submitName");
  const lovePopup = document.getElementById("lovePopup");
  const closePopup = document.getElementById("closePopup");
  const chatPrompt = document.getElementById("chatPrompt");
  const chatYes = document.getElementById("chatYes");
  const chatNo = document.getElementById("chatNo");
  const chatSection = document.getElementById("chatSection");
  const chatBox = document.getElementById("chat-box");
  const chatInput = document.getElementById("chatInput");
  const sendBtn = document.getElementById("sendBtn");

  const adminBtn = document.getElementById("adminBtn");
  const adminPanel = document.getElementById("adminPanel");
  const loginBox = document.getElementById("loginBox");
  const adminChat = document.getElementById("adminChat");
  const adminUser = document.getElementById("adminUser");
  const adminPass = document.getElementById("adminPass");
  const loginSubmit = document.getElementById("loginSubmit");
  const adminMessages = document.getElementById("adminMessages");
  const adminMsg = document.getElementById("adminMsg");
  const adminSend = document.getElementById("adminSend");

  // ===== Flow =====
  revealBtn.onclick = () => {
    start.remove();
    revealBtn.remove();
    loveSection.classList.remove("hidden");
  };

  yesBtn.onclick = () => {
    loveSection.classList.add("hidden");
    lovePopup.classList.add("show");
  };

  closePopup.onclick = () => {
    lovePopup.classList.remove("show");
    nameInput.classList.remove("hidden");
  };

  noBtn.onclick = () => {
    loveSection.innerHTML = "<h3>Éªá´›â€™s á´á´‹á´€Ê ğŸ’” á´á´€ÊÊ™á´‡ sá´á´á´‡á´…á´€Ê...</h3>";
  };

  submitName.onclick = () => {
    if (loverName.value.trim() !== "") {
      nameInput.classList.add("hidden");
      chatPrompt.classList.remove("hidden");
    }
  };

  chatYes.onclick = () => {
    chatPrompt.classList.add("hidden");
    chatSection.classList.remove("hidden");
  };

  chatNo.onclick = () => {
    chatPrompt.innerHTML = "<h3>Éª á´œÉ´á´…á´‡Ê€sá´›á´€É´á´… ğŸ’” á´á´€ÊÊ™á´‡ sá´á´á´‡á´…á´€Ê...</h3>";
  };

  // ===== Chat =====
  sendBtn.onclick = () => {
    const msg = chatInput.value.trim();
    if(msg) { push(msgRef, {sender:"user", text:msg}); chatInput.value=""; }
  };
  onChildAdded(msgRef, (data)=>{
    const msg = data.val();
    const div = document.createElement("div");
    div.className = "msg " + (msg.sender==="user"?"user":"admin");
    div.textContent = msg.text;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
    if(adminMessages){
      const div2 = document.createElement("div");
      div2.className = "msg " + (msg.sender==="user"?"user":"admin");
      div2.textContent = msg.text;
      adminMessages.appendChild(div2);
      adminMessages.scrollTop = adminMessages.scrollHeight;
    }
  });

  // ===== Admin =====
  adminBtn.onclick = ()=>adminPanel.style.display="flex";
  loginSubmit.onclick = ()=>{
    if(adminUser.value==="mtdragon" && adminPass.value==="mtdragon00"){
      loginBox.style.display="none";
      adminChat.style.display="flex";
    } else alert("Incorrect login!");
  };
  adminSend.onclick = ()=>{
    const msg = adminMsg.value.trim();
    if(msg){ push(msgRef, {sender:"admin", text:msg}); adminMsg.value=""; }
  };
  window.logoutAdmin = ()=>{
    adminChat.style.display="none";
    loginBox.style.display="flex";
    adminPanel.style.display="none";
  };
</script>
</body>
</html>
</style>
</head>
<body>
  <h1 id="start">I WANT TO SAY YOU SOMETHING ğŸ‘‡</h1>
  <button id="revealBtn">ğŸ’Œ Reveal</button>

  <div id="loveSection" class="hidden">
    <h2 id="typeText" class="typewriter"></h2>
    <div id="options" class="hidden">
      <h3>Do you love me?</h3>
      <button id="yesBtn">â¤ï¸ Yes</button>
      <button id="noBtn">ğŸ’” No</button>
    </div>
  </div>

  <div id="nameInput" class="hidden">
    <h3>Whatâ€™s your name, love? ğŸ’•</h3>
    <input type="text" id="loverName" placeholder="Enter your name">
    <button id="submitName">ğŸ’Œ Continue</button>
  </div>

  <div id="letter" class="hidden">
    <p id="letterText" class="typewriter"></p>
  </div>

  <div id="sadMsg" class="hidden">
    <h3>Thatâ€™s okay ğŸ’” Maybe someday youâ€™ll feel the same... ğŸŒ§ï¸</h3>
  </div>

  <div id="chatSection" class="hidden">
    <h3>ğŸ’¬ Chat with me</h3>
    <div id="chat-box"></div>
    <input type="text" id="chatInput" placeholder="Type your message..." />
    <button id="sendBtn">Send</button>
  </div>

  <button id="adminBtn">ğŸ” Admin Login</button>

  <div id="adminPanel">
    <div class="login-box" id="loginBox">
      <h3>Admin Login</h3>
      <input id="adminUser" placeholder="Username">
      <input id="adminPass" placeholder="Password" type="password">
      <button id="loginSubmit">Login</button>
    </div>
    <div id="adminChat" class="hidden">
      <h3>Admin Chat Panel</h3>
      <div id="adminMessages"></div>
      <input type="text" id="adminMsg" placeholder="Type reply...">
      <button id="adminSend">Send</button>
      <button onclick="logoutAdmin()">Logout</button>
    </div>
  </div>

<script type="module">
  // ===== Firebase Setup =====
  // âš ï¸ Replace with your Firebase project config
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_DOMAIN.firebaseapp.com",
    databaseURL: "https://YOUR_DOMAIN.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_BUCKET.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const msgRef = ref(db, "messages");

  // ===== Elements =====
  const start = document.getElementById("start");
  const revealBtn = document.getElementById("revealBtn");
  const loveSection = document.getElementById("loveSection");
  const typeText = document.getElementById("typeText");
  const options = document.getElementById("options");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const nameInput = document.getElementById("nameInput");
  const loverName = document.getElementById("loverName");
  const submitName = document.getElementById("submitName");
  const letter = document.getElementById("letter");
  const letterText = document.getElementById("letterText");
  const sadMsg = document.getElementById("sadMsg");
  const chatSection = document.getElementById("chatSection");
  const chatBox = document.getElementById("chat-box");
  const chatInput = document.getElementById("chatInput");
  const sendBtn = document.getElementById("sendBtn");

  const adminBtn = document.getElementById("adminBtn");
  const adminPanel = document.getElementById("adminPanel");
  const loginBox = document.getElementById("loginBox");
  const adminChat = document.getElementById("adminChat");
  const adminUser = document.getElementById("adminUser");
  const adminPass = document.getElementById("adminPass");
  const loginSubmit = document.getElementById("loginSubmit");
  const adminMessages = document.getElementById("adminMessages");
  const adminMsg = document.getElementById("adminMsg");
  const adminSend = document.getElementById("adminSend");

  // ===== Functions =====
  revealBtn.onclick = () => {
    start.remove();
    revealBtn.remove();
    loveSection.classList.remove("hidden");
    typeWriter("HEY S ğŸ’• I WANT TO TELL YOU THAT ..... I LOVE YOU ğŸ’", typeText, () => {
      options.classList.remove("hidden");
    });
  };

  yesBtn.onclick = () => {
    loveSection.classList.add("hidden");
    nameInput.classList.remove("hidden");
  };

  noBtn.onclick = () => {
    loveSection.classList.add("hidden");
    sadMsg.classList.remove("hidden");
  };

  submitName.onclick = () => {
    if (loverName.value.trim() !== "") {
      nameInput.classList.add("hidden");
      letter.classList.remove("hidden");
      const message = `My dearest ${loverName.value}, ğŸ’–
Every heartbeat whispers your name. 
Youâ€™re the light that makes my dark world glow. ğŸ’«`;
      typeWriter(message, letterText, () => {
        chatSection.classList.remove("hidden");
      });
    }
  };

  sendBtn.onclick = () => {
    const msg = chatInput.value.trim();
    if (msg) {
      push(msgRef, { sender: "user", text: msg });
      chatInput.value = "";
    }
  };

  onChildAdded(msgRef, (data) => {
    const msg = data.val();
    const div = document.createElement("div");
    div.className = "msg " + (msg.sender === "user" ? "user" : "admin");
    div.textContent = msg.text;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
    if (adminMessages) {
      const div2 = document.createElement("div");
      div2.className = "msg " + (msg.sender === "user" ? "user" : "admin");
      div2.textContent = msg.text;
      adminMessages.appendChild(div2);
      adminMessages.scrollTop = adminMessages.scrollHeight;
    }
  });

  adminBtn.onclick = () => adminPanel.style.display = "flex";

  loginSubmit.onclick = () => {
    if (adminUser.value === "mtdragon" && adminPass.value === "mtdragon00") {
      loginBox.classList.add("hidden");
      adminChat.classList.remove("hidden");
    } else alert("Incorrect login!");
  };

  adminSend.onclick = () => {
    const msg = adminMsg.value.trim();
    if (msg) {
      push(msgRef, { sender: "admin", text: msg });
      adminMsg.value = "";
    }
  };

  window.logoutAdmin = () => {
    adminChat.classList.add("hidden");
    loginBox.classList.remove("hidden");
    adminPanel.style.display = "none";
  };

  function typeWriter(text, element, callback) {
    element.textContent = "";
    let i = 0;
    const timer = setInterval(() => {
      element.textContent += text.charAt(i);
      i++;
      if (i >= text.length) {
        clearInterval(timer);
        if (callback) callback();
      }
    }, 50);
  }
</script>
</body>
</html>
