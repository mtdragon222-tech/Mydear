<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>I WANT TO SAY YOU SOMETHING ğŸ‘‡</title>
<style>
  * {margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif;}
  body {
    background: radial-gradient(circle at top, #111, #000);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
  }
  h1, h2, h3, p { text-align: center; }
  .hidden { display: none; }
  button {
    background: #ff4da6;
    border: none;
    color: white;
    padding: 12px 25px;
    margin-top: 20px;
    border-radius: 25px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover { background: #ff66b2; transform: scale(1.05); }
  .typewriter {
    overflow: hidden;
    border-right: .15em solid #ff4da6;
    white-space: nowrap;
    animation: typing 3.5s steps(40, end), blink-caret .75s step-end infinite;
    font-size: 20px;
    font-style: italic;
    text-align: center;
    max-width: 90%;
  }
  @keyframes typing { from { width: 0 } to { width: 100% } }
  @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: #ff4da6; } }
  #chat-box {
    border: 1px solid #444;
    border-radius: 15px;
    width: 90%;
    max-width: 400px;
    height: 300px;
    overflow-y: auto;
    background: rgba(255,255,255,0.05);
    padding: 10px;
    margin-top: 20px;
  }
  .msg {
    margin: 8px 0;
    padding: 8px 12px;
    border-radius: 10px;
    display: inline-block;
    max-width: 80%;
  }
  .user { background: #ff4da6; color: #fff; align-self: flex-end; }
  .admin { background: #333; color: #fff; align-self: flex-start; }
  #adminPanel { background: rgba(0,0,0,0.95); position: fixed; inset: 0; display: none; flex-direction: column; align-items: center; justify-content: center; }
  #adminMessages { width: 90%; max-width: 500px; height: 300px; overflow-y: auto; border: 1px solid #555; padding: 10px; background: #111; border-radius: 15px; margin-bottom: 20px; }
  .login-box input {margin: 10px; padding: 8px; border-radius: 8px; border: none; text-align: center;}
  #adminBtn { position: fixed; bottom: 10px; right: 10px; font-size: 14px; background: #333; }
</style>
</head>
<body>
  <h1 id="start">I WANT TO SAY YOU SOMETHING ğŸ‘‡</h1>
  <button id="revealBtn">ğŸ’Œ Reveal</button>

  <div id="loveSection" class="hidden">
    <h2 id="typeText" class="typewriter"></h2>
    <div id="options" class="hidden">
      <h3>Do you love me?</h3>
      <button id="yesBtn">â¤ï¸ Yes</button>
      <button id="noBtn">ğŸ’” No</button>
    </div>
  </div>

  <div id="nameInput" class="hidden">
    <h3>Whatâ€™s your name, love? ğŸ’•</h3>
    <input type="text" id="loverName" placeholder="Enter your name">
    <button id="submitName">ğŸ’Œ Continue</button>
  </div>

  <div id="letter" class="hidden">
    <p id="letterText" class="typewriter"></p>
  </div>

  <div id="sadMsg" class="hidden">
    <h3>Thatâ€™s okay ğŸ’” Maybe someday youâ€™ll feel the same... ğŸŒ§ï¸</h3>
  </div>

  <div id="chatSection" class="hidden">
    <h3>ğŸ’¬ Chat with me</h3>
    <div id="chat-box"></div>
    <input type="text" id="chatInput" placeholder="Type your message..." />
    <button id="sendBtn">Send</button>
  </div>

  <button id="adminBtn">ğŸ” Admin Login</button>

  <div id="adminPanel">
    <div class="login-box" id="loginBox">
      <h3>Admin Login</h3>
      <input id="adminUser" placeholder="Username">
      <input id="adminPass" placeholder="Password" type="password">
      <button id="loginSubmit">Login</button>
    </div>
    <div id="adminChat" class="hidden">
      <h3>Admin Chat Panel</h3>
      <div id="adminMessages"></div>
      <input type="text" id="adminMsg" placeholder="Type reply...">
      <button id="adminSend">Send</button>
      <button onclick="logoutAdmin()">Logout</button>
    </div>
  </div>

<script type="module">
  // ===== Firebase Setup =====
  // âš ï¸ Replace with your Firebase project config
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_DOMAIN.firebaseapp.com",
    databaseURL: "https://YOUR_DOMAIN.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_BUCKET.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const msgRef = ref(db, "messages");

  // ===== Elements =====
  const start = document.getElementById("start");
  const revealBtn = document.getElementById("revealBtn");
  const loveSection = document.getElementById("loveSection");
  const typeText = document.getElementById("typeText");
  const options = document.getElementById("options");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const nameInput = document.getElementById("nameInput");
  const loverName = document.getElementById("loverName");
  const submitName = document.getElementById("submitName");
  const letter = document.getElementById("letter");
  const letterText = document.getElementById("letterText");
  const sadMsg = document.getElementById("sadMsg");
  const chatSection = document.getElementById("chatSection");
  const chatBox = document.getElementById("chat-box");
  const chatInput = document.getElementById("chatInput");
  const sendBtn = document.getElementById("sendBtn");

  const adminBtn = document.getElementById("adminBtn");
  const adminPanel = document.getElementById("adminPanel");
  const loginBox = document.getElementById("loginBox");
  const adminChat = document.getElementById("adminChat");
  const adminUser = document.getElementById("adminUser");
  const adminPass = document.getElementById("adminPass");
  const loginSubmit = document.getElementById("loginSubmit");
  const adminMessages = document.getElementById("adminMessages");
  const adminMsg = document.getElementById("adminMsg");
  const adminSend = document.getElementById("adminSend");

  // ===== Functions =====
  revealBtn.onclick = () => {
    start.remove();
    revealBtn.remove();
    loveSection.classList.remove("hidden");
    typeWriter("HEY S ğŸ’• I WANT TO TELL YOU THAT ..... I LOVE YOU ğŸ’", typeText, () => {
      options.classList.remove("hidden");
    });
  };

  yesBtn.onclick = () => {
    loveSection.classList.add("hidden");
    nameInput.classList.remove("hidden");
  };

  noBtn.onclick = () => {
    loveSection.classList.add("hidden");
    sadMsg.classList.remove("hidden");
  };

  submitName.onclick = () => {
    if (loverName.value.trim() !== "") {
      nameInput.classList.add("hidden");
      letter.classList.remove("hidden");
      const message = `My dearest ${loverName.value}, ğŸ’–
Every heartbeat whispers your name. 
Youâ€™re the light that makes my dark world glow. ğŸ’«`;
      typeWriter(message, letterText, () => {
        chatSection.classList.remove("hidden");
      });
    }
  };

  sendBtn.onclick = () => {
    const msg = chatInput.value.trim();
    if (msg) {
      push(msgRef, { sender: "user", text: msg });
      chatInput.value = "";
    }
  };

  onChildAdded(msgRef, (data) => {
    const msg = data.val();
    const div = document.createElement("div");
    div.className = "msg " + (msg.sender === "user" ? "user" : "admin");
    div.textContent = msg.text;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
    if (adminMessages) {
      const div2 = document.createElement("div");
      div2.className = "msg " + (msg.sender === "user" ? "user" : "admin");
      div2.textContent = msg.text;
      adminMessages.appendChild(div2);
      adminMessages.scrollTop = adminMessages.scrollHeight;
    }
  });

  adminBtn.onclick = () => adminPanel.style.display = "flex";

  loginSubmit.onclick = () => {
    if (adminUser.value === "mtdragon" && adminPass.value === "mtdragon00") {
      loginBox.classList.add("hidden");
      adminChat.classList.remove("hidden");
    } else alert("Incorrect login!");
  };

  adminSend.onclick = () => {
    const msg = adminMsg.value.trim();
    if (msg) {
      push(msgRef, { sender: "admin", text: msg });
      adminMsg.value = "";
    }
  };

  window.logoutAdmin = () => {
    adminChat.classList.add("hidden");
    loginBox.classList.remove("hidden");
    adminPanel.style.display = "none";
  };

  function typeWriter(text, element, callback) {
    element.textContent = "";
    let i = 0;
    const timer = setInterval(() => {
      element.textContent += text.charAt(i);
      i++;
      if (i >= text.length) {
        clearInterval(timer);
        if (callback) callback();
      }
    }, 50);
  }
</script>
</body>
</html>
